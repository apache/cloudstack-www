---
layout: post
title: Apache CloudStack registerUserKeys authorization vulnerability
date: '2016-10-27T14:41:06+00:00'
permalink: apache_cloudstack_registeruserkeys_authorization_vulnerability
---
<p>The <a href="http://cloudstack.apache.org/security.html">CloudStack security team</a> recently received notice of a significant vulnerability in a CloudStack API call - registerUserKeys. The original intention for this call was for it to only be exposed for integration work - eg not to the public network in general. A weakness in the API call's implementation allows a malicious user to reset the API keys for other users on the system, thus accessing resources and services available to that user. We have released CloudStack versions 4.8.1.1 and 4.9.0.1 with patches for this issue. More details about the release can be read on the <a href="https://s.apache.org/qV5l">official announcement post</a>.</p>

<p>Some users may be protected from this weakness already, if they have configured their commands.properties file to limit access to this api call from the integration API port, instead of general API port. This can be accomplished by setting registerUserKeys to 1.</p>

<p>Users of Apache CloudStack version 4.9 whom are using the dynamic roles feature can delete the "Allow" rule for "registerUserKeys" for each non-administrator role under the Roles/Rules section of the user interface.</p>

Credit:<br>
This vulnerability was reported by Marc-Aur√®le Brothier from Exoscale.<br>
